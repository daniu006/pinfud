<ion-content class="register-content" fullscreen>

  <div class="register-container">

    <img src="assets/img/logo.png" alt="Pinfud Logo" class="welcome-logo" />
    <h1 class="register-title">Registrarse</h1>

    <!-- Mensaje de éxito después del registro -->
    @if (vm.registrationComplete) {
    <div class="success-message">
      <ion-icon name="checkmark-circle"></ion-icon>
      {{ vm.successMessage }}
    </div>
    <button class="login-btn" (click)="goToLogin()">Ir a Iniciar Sesión</button>
    <p class="login-link" style="margin-top: 16px;">
      <a (click)="vm.clearForm()">Registrar otra cuentas</a>
    </p>
    } @else {
    <!-- Mensaje de error -->
    @if (vm.errorMessage) {
    <div class="error-message">
      <ion-icon name="alert-circle"></ion-icon>
      {{ vm.errorMessage }}
    </div>
    }

    <div class="input-wrapper">
      <label for="name">Nombre</label>
      <input id="name" type="text" [(ngModel)]="vm.name" placeholder="Ingresa tu nombre" />
    </div>

    <div class="input-wrapper">
      <label for="email">Correo</label>
      <input id="email" type="email" [(ngModel)]="vm.email" placeholder="Ingresa tu correo" />
    </div>

    <div class="input-wrapper">
      <label for="password">Contraseña</label>
      <input id="password" type="password" [(ngModel)]="vm.password" placeholder="Ingresa tu contraseña" />
    </div>

    <div class="input-wrapper">
      <label for="confirmPassword">Confirmar contraseña</label>
      <input id="confirmPassword" type="password" [(ngModel)]="vm.confirmPassword"
        placeholder="Confirma tu contraseña" />
    </div>

    <button class="register-btn" (click)="onRegister()" [disabled]="vm.isLoading">
      @if (vm.isLoading) {
      <ion-spinner name="crescent"></ion-spinner>
      Registrando...
      } @else {
      Registrar
      }
    </button>

    <p class="login-link">
      ¿Ya tienes cuenta? <a (click)="goToLogin()">Inicia sesión</a>
    </p>
    }

  </div>

</ion-content>