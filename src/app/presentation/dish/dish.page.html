<ion-content class="dish-content" fullscreen>

  <!-- Back Button -->
  <div class="back-button" (click)="goBack('/home')">
    <ion-icon name="arrow-back"></ion-icon>
  </div>

  @if (vm.isOwner()) {
  <div class="delete-button" (click)="onDelete()">
    <ion-icon name="trash-outline" color="danger"></ion-icon>
  </div>
  }

  <!-- Main Dish Image -->
  @if (vm.currentDish()) {
  <div class="dish-image-container">
    <!-- Background blurred image -->
    <div class="dish-image-background" [style.background-image]="'url(' + vm.currentDish()!.image + ')'"></div>
    <!-- Main image -->
    <img [src]="vm.currentDish()!.image" [alt]="vm.currentDish()!.name" class="dish-image" />
  </div>

  <!-- Dish Info Overlay -->
  <div class="dish-info-overlay">
    <h1 class="dish-name">{{ vm.currentDish()!.name }}</h1>
    <div class="dish-meta">
      <span class="dish-region">{{ vm.currentDish()!.region }}</span>
      <span class="dish-divider"></span>
      <span class="uploader-name">Por {{ vm.uploaderName() }}</span>
    </div>
  </div>

  <!-- Action Bar -->
  <div class="action-bar">

    <!-- Like Button -->
    <div class="action-btn" (click)="onLike()">
      <ion-icon [name]="vm.isLiked() ? 'heart' : 'heart-outline'" [class.liked]="vm.isLiked()"></ion-icon>
    </div>

    <!-- Share Button -->
    <div class="action-btn" (click)="onShare()">
      <ion-icon name="share-outline"></ion-icon>
    </div>

    <!-- Download Button -->
    <div class="action-btn" (click)="onDownload()">
      <ion-icon name="download-outline"></ion-icon>
    </div>

    <!-- Save Button -->
    <button class="save-btn" (click)="onSave()">
      {{ vm.isSaved() ? 'Guardado' : 'Guardar' }}
    </button>

  </div>
  }

</ion-content>